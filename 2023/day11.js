let input = `...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#.....`;

let full = `...#...............................................#............................#........#.............................................#....
.................................#............#...........................#.........................#....................#..................
.......................#........................................#...........................................................................
..........#...........................................................................#.....................................................
...................#.........#............#.....................................................#...........................................
...........................................................................................................#......#.............#...........
.......#......#..........#..................................................................................................................
..........................................................#............#....................................................................
.#...............................................#...........................#......................#..................................#....
..............................................................#.....................#................................#.....#................
.......................#.......#.....#...................................................................#.................................#
..................#.........................................................................................................................
.............#........................................#.............#.............................#...........................#.............
............................................................................................#.......................................#.......
............................#..................................................#.................................#..........................
.........#...........#...............................................................................#......................................
................................#......#..........#......................................................................#..................
...........................................................................................................#................................
.................#....................................................................#...........#.......................................#.
..........................................................................#.....#.....................................#.....................
..............................................................#.............................................................................
....................................................................#..................................#.............................#......
..#..........................................#..............................................................................................
........................................................................................#..................#......#.........................
.........#.......#......#..........................#.........................................#..............................................
...........................................................................#........................#.......................................
.....#......................................................#.....................#...................................................#.....
..............................#...........#...........#...........#.........................................................................
#................................................#......................#.................................#.................................
........#..........................................................................................................#........................
..............#...........#..........#...................#..................................................................................
....................#..........................................................................#............................................
.........................................................................................#..............#....................#......#.......
...#......................................#..................#..............................................................................
..................................#................................#........................................#............#..................
.......................#............................................................#...........................................#.........#.
...............................................................................#................#...........................................
...............................#............................................................................................................
................#.......................#.................................................#.................................................
.........#..................................................#..........#.............................................................#......
.....................#.............................#........................................................................................
...............................................................................................#.......#.....................#..............
..................................#................................................................................#....................#...
.#.....#.....#.............................#....................................#.....#.....................#...............................
......................................#....................................#.....................................................#..........
.........................#..................................................................................................................
...................................................#........................................................................................
..............................#..............................................................#......#..................#....................
....................#...................#..........................#..........#...........................#....................#............
......................................................................................#.....................................................
..#.....#...........................#.....................#.................................................................................
............................................................................................................................................
............................................................................................................................................
................#.......................................................................................#...............................#...
.......................#.....................................................#.......#......................................................
............................................................................................................................................
.....#......................#.....#...........#................................................#..................#.........................
................................................................................#............................#..............................
.......................................................................#........................................................#...........
..........#...........................................#...............................#................................................#....
.......................................#...................................#.........................#...................#..................
....................#............................#.........#......#...........................#....................................#........
............................................................................................................................................
..#.....................................................................................#......................#............................
................................#........................................#....................................................#.............
............#..............................................................................................................................#
...............................................................#.......................................#...........#........................
......#...............#....................#........................#........#...............................#..............................
.............................#...............................................................#..............................................
............................................................................................................................................
.........................................................................................................#..................................
..#.............................#.......................#.............................#...........................................#.........
..............#..................................#..............................................#.............#..............#..............
..........................................................................#...........................................#.....................
..................#........................................#................................#.........................................#.....
............................#.......................................................................#.......................................
........................................#..........#...........#............................................................................
...........#................................................................................................................................
.........................#........................................................#..........................................#..............
................................................................................................#......#............#................#......
#.....................................#.....#..........................#....................................................................
.....#.......#.................#.....................#......................................#...................................#...........
............................................................................................................................................
.........#..........................................................#................#...............#......#............#.................#
............................#...............................#..................#......................................................#.....
................................................................................................#............................#..............
#......................#..........#.........................................................................................................
..................#................................#...............................#....................#.......#...........................
.......#..............................#.....#.............................................................................#.................
............#.......................................................#........#..................................................#...........
..............................................................................................#....................#......................#.
............................#...........................................................#..................#................................
#............................................................................................................................#..............
......#................#............#.................#..............................................#.............................#........
................#.............................................................#......#......................................................
................................#..............#..............#.........#...................................................................
.......................................#...............................................................................#................#...
...........#.............................................#..............................#...................................................
....................................................#.......................................................................#...............
.....#.................#..........................................#...........................................#.............................
#..............................#..................................................................#.........................................
...........................................#.............................................................#..........................#.......
.................................................#........#....................#............................................................
.............#..........................................................................#..........................#...........#............
............................................................................................................................................
..................#..............................................#.................................#.....................#..................
...................................................#....................#......................................#.......................#....
........................#.....................#.............................................................................................
...#...........................................................................#.....#.....#........................#..............#........
.............................................................#..............................................................................
..........#..................#.......................#.........................................#........#...................................
...........................................................................#..................................................#.............
.......................#.........#.........#..........................................................................#.....................
...............................................................................................................#............................
...#............#........................................#.....................#.............#........#.....................................
........................................................................................#..............................................#....
..........#..............#.....#.....................................#.............#........................................................
............................................................................................................................................
...................................................#........#...............#..............#...............#...........#....................
.....................#......................................................................................................................
.......................................#...............................................................#..........#.........................
.....#...........#..................................................................................................................#.......
.....................................................................................#......................................#...............
.............#..............................................................................................................................
........................................................................#.......#..............#................................#...........
.....................#..........#.......................#...................................................................................
.....................................................................................................................#...............#......
...........#...............#.............#..................................................#.......#......................#...............#
.................................................................#........#...............................#.................................
#............................................#..............................................................................................
......................................................................................#.....................................................
.........................................................#.....................................#..................................#.........
...................................................................#..............#...........................#........#....................
......#..........................................#..................................................#.......................................
..........................................................................................................#.................................
....................#..............#..........................#................................................................#............
...............................................................................#........#...........................................#.......
..........................................#......................................................#..........................................
........................#........................................#......#..........................................#........................
...........#.....................#...............#.......#.................................................#...............#...........#....`;

let grid = full.split("\n").map((line) => line.split(""));
let expansionFactor = 1000000;
let emptyRows = [];
grid.forEach((line, i) => {
	if (line.every((cell) => cell == ".")) {
		emptyRows.push(i);
	}
});

emptyCols = [];
for (let i = 0; i < grid[0].length; i++) {
	if (grid.every((row) => row[i] == ".")) {
		emptyCols.push(i);
	}
}

// console.log(grid);
let galaxies = [];
grid.forEach((row, i) => {
	row.forEach((cell, j) => {
		if (cell == "#") {
			galaxies.push({ row: i, col: j });
		}
	});
});

console.log(galaxies);
let dists = [];
for (let i = 0; i < galaxies.length - 1; i++) {
	const g1 = galaxies[i];
	for (let j = i + 1; j < galaxies.length; j++) {
		const g2 = galaxies[j];
		let x = Math.abs(g1.row - g2.row);
		let expandedX =
			emptyRows.filter(
				(row) => (row < g1.row && row > g2.row) || (row < g2.row && row > g1.row)
			).length *
			(expansionFactor - 1);
		let y = Math.abs(g1.col - g2.col);
		let expandedY =
			emptyCols.filter(
				(col) => (col < g1.col && col > g2.col) || (col < g2.col && col > g1.col)
			).length *
			(expansionFactor - 1);
		dists.push(x + y + expandedX + expandedY);
	}
}
console.log(dists.reduce((acc, cur) => acc + cur));
